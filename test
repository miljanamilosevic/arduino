int i;
int duzina;

int broj;
char rec[32];

void setup()
{
  Serial.begin(9600);
  
  
  
  
  
}

void loop()
{
  Serial.println("Unesite tekst u ovom formatu {BROJ}{TEKST}: ");
  while(Serial.available() == 0);
  delay(100);
  broj = Serial.parseInt();
  //Serial.print(broj);
  duzina = Serial.available();
  Serial.readBytes(rec,duzina);
  rec[duzina] = 0;
  //Serial.print(rec);
  if ( broj > 9 && broj < 100)
  {
    for( i = 0; i < duzina; i++)
    {
      rec[i] = toupper(rec[i]);
    }
    Serial.print(rec);
    
    
  }
}

#include <LiquidCrystal.h>
LiquidCrystal lcd(8, 9, 4, 5, 6, 7);
#define SELECT 1
#define LEFT 2
#define UP 3
#define DOWN 4
#define RIGHT 5

byte kraljica[8]{
  B00100,
  B11111,
  B11111,
  B01110,
  B01110,
  B01110,
  B11111,
  B11111,

};
byte pesak[8]{
  B01110,
  B11111,
  B01110,
  B01110,
  B01110,
  B01110,
  B11111,
  B11111,

};
int x,y;
void setup() {
 lcd.begin(16, 2);
 lcd.createChar(0,kraljica);
 lcd.createChar(1,pesak);
 x=random(0,15);
 y=random(0,2);
 lcd.setCursor(x,y);
 lcd.write(byte(1));
  
 lcd.setCursor(0,0);
 lcd.write(byte(0));
 delay(100);
  

}
int pozicija=0;
int pozicija1=0;
int x1,y1;
void loop() {
 
 int taster_novi=0, taster_stari=0;
 taster_novi=ocitaj_taster();
  if(taster_stari!=taster_novi){
  taster_stari=taster_novi;
  
    if(taster_novi== DOWN){
    	lcd.clear();
      	pozicija1++;
    	lcd.setCursor(pozicija,pozicija1);
    	lcd.write(byte(0));
      	lcd.setCursor(x,y);
      	lcd.write(byte(1));
      	delay(100);
    } else if(taster_novi== UP){
    	lcd.clear();
      	pozicija1--;
    	lcd.setCursor(pozicija,pozicija1);
    	lcd.write(byte(0));
      	lcd.setCursor(x,y);
      	lcd.write(byte(1));
        delay(100);
	 }else if(taster_novi== RIGHT){
    	lcd.clear();
      	pozicija++;
    	lcd.setCursor(pozicija,pozicija1);
    	lcd.write(byte(0));
      	lcd.setCursor(x,y);
      	lcd.write(byte(1));
        delay(100);
    } else if(taster_novi== LEFT){
    	lcd.clear();
      	pozicija--;
    	lcd.setCursor(pozicija,pozicija1);
    	lcd.write(byte(0));
      	lcd.setCursor(x,y);
      	lcd.write(byte(1));
        delay(100);
    }
    
    if((pozicija==x)&&(pozicija1==y)){
      for(int i=0; i<5; i++){
        lcd.clear();
        x1=random(0,9);
        y1=random(0,2);
        lcd.setCursor(x1,y1);
        lcd.write("SAHMAT");
        delay(1000);
      }
     lcd.clear();
    }
    
    
  }
 


}

byte ocitaj_taster()
{
 int tmp = analogRead(0); //stanje tastera se ocitava preko
 //analognog ulaza 0
 if (tmp > 635 && tmp < 645) //SELECT
 return 1;
 if (tmp > 405 && tmp < 415) //LEFT
 return 2;
 if (tmp > 95 && tmp < 105) //UP
 return 3;
 if (tmp > 252 && tmp < 262) //DOWN
 return 4;
 if (tmp < 5) //RIGHT
 return 5;
 return 0; //nije pritisnut nijedan od tastera
}
