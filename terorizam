#include <LiquidCrystal.h>
LiquidCrystal lcd(8,9,4,5,6,7);
int brojac1;
int brojac2;
unsigned char taster_staro, taster_novo;
int brojac;
void setup() {
  lcd.begin(16, 2);

  brojac1 = 0;
  brojac2 = 0;
 
  lcd.setCursor(0,0 );
  lcd.print(brojac1);
  lcd.setCursor(1,0);
  lcd.print(brojac2);

  taster_staro = 0;
  taster_novo = 0;
}

void loop() {
  taster_novo = ocitaj_taster();
  if(taster_novo != taster_staro)
  {
    switch(taster_novo)
    {
   	case(1): //SELECT
      while(brojac1 !=0 || brojac2 != 0)
      { delay(1000);
       if(brojac2 > 0)
       {
         brojac2--;
         lcd.setCursor(1,0);
         lcd.print(brojac2);}
       else
       { brojac1 --;
        lcd.setCursor(0,0);
        lcd.print(brojac1);
        brojac2 = 9;
        lcd.setCursor(1,0);
        lcd.print(brojac2);
       };
       delay(1000);
       if(brojac1 == 0 && brojac2 == 0)
       {
         lcd.clear();
         lcd.setCursor(1,0);
         lcd.print("BOOM!");
       }
      }     
      	
         
          break;
      case 2: // LEFT
          brojac2--;
          lcd.setCursor(1, 0);
          lcd.print(brojac2);
          break;
      case 3: // UP
        
          brojac1++;

          lcd.setCursor(0, 0);
          lcd.print(brojac1);
          break;
      case 4: // DOWN
          brojac1--;
          lcd.setCursor(0, 0);
          lcd.print(brojac1);
          break;
      case 5: // RIGHT
      
      	  brojac2++;
          lcd.setCursor(1, 0);
          lcd.print(brojac2);

          break;
      default:
          break;
    }

    taster_staro = taster_novo;
  }
}



byte ocitaj_taster()
{
int tmp = analogRead(0); //stanje tastera se ocitava preko
//analognog ulaza 0
if (tmp > 635 && tmp < 645) //SELECT
return 1;
if (tmp > 405 && tmp < 415) //LEFT
return 2;
if (tmp > 95 && tmp < 105) //UP
return 3;
if (tmp > 252 && tmp < 262) //DOWN
return 4;
if (tmp < 5) //RIGHT
return 5;
return 0; //nije pritisnut nijedan od tastera
}
